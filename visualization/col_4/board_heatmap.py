import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import utils.load_data as load_data

# front gate
def front_map(board, df, column_arr):
    front_board_index = {'K006-1': [0, 0], 'K006-2': [0, 1], 'K011-1': [0, 2], 'K011-2': [0, 3], 
                        'K006-4': [1, 0], 'K006-3': [1, 1], 'K011-4': [1, 2], 'K011-3': [1, 3], 
                        'K007-1': [2, 0], 'K007-2': [2, 1], 'K012-1': [2, 2], 'K012-2': [2, 3], 
                        'K007-4': [3, 0], 'K007-3': [3, 1], 'K012-4': [3, 2], 'K012-3': [3, 3], 
                        'K008-1': [4, 0], 'K008-2': [4, 1], 'K013-1': [4, 2], 'K013-2': [4, 3], 
                        'K008-4': [5, 0], 'K008-3': [5, 1], 'K013-4': [5, 2], 'K013-3': [5, 3], 
                        'K009-1': [6, 0], 'K009-2': [6, 1], 'K014-1': [6, 2], 'K014-2': [6, 3], 
                        'K009-4': [7, 0], 'K009-3': [7, 1], 'K014-4': [7, 2], 'K014-3': [7, 3], 
                        'K010-1': [8, 0], 'K010-2': [8, 1], 'K015-1': [8, 2], 'K015-2': [8, 3],
                        'K010-4': [9, 0], 'K010-3': [9, 1], 'K015-4': [9, 2], 'K015-3': [9, 3]}

    RSSI_AVG = df[column_arr].mean()

    for i in column_arr:
        x, y = front_board_index[i]
        avg = df[i].mean()
        board[x][y] = avg

    plt.figure(figsize=(6, 8))
    sns.heatmap(board, annot = True, cmap = 'Greys')

# back gate
def back_map(board, df, column_arr):
    back_board_index = {'011-1': [0, 0], '011-2': [0, 1], '006-1': [0, 2], '006-2': [0, 3], 
                        '011-4': [1, 0], '011-3': [1, 1], '006-4': [1, 2], '006-3': [1, 3],
                        '012-1': [2, 0], '012-2': [2, 1], '007-1': [2, 2], '007-2': [2, 3],
                        '012-4': [3, 0], '012-3': [3, 1], '007-4': [3, 2], '007-3': [3, 3],
                        '013-1': [4, 0], '013-2': [4, 1], '008-1': [4, 2], '008-2': [4, 3],
                        '013-4': [5, 0], '013-3': [5, 1], '008-4': [5, 2], '008-3': [5, 3],
                        '014-1': [6, 0], '014-2': [6, 1], '009-1': [6, 2], '009-2': [6, 3],
                        '014-4': [7, 0], '014-3': [7, 1], '009-4': [7, 2], '009-3': [7, 3],
                        '015-1': [8, 0], '015-2': [8, 1], '010-1': [8, 2], '010-2': [8, 3],
                        '015-4': [9, 0], '015-3': [9, 1], '010-4': [9, 2], '010-3': [9, 3]}

    RSSI_AVG = df[column_arr].mean()

    for i in column_arr:
        x, y = back_board_index[i]
        avg = df[i].mean()
        board[x][y] = avg

    plt.figure(figsize=(6, 8))
    sns.heatmap(board, annot = True, cmap = 'Greys')